import React from 'react'

import {motion} from 'framer-motion'
import { useSelector } from 'react-redux'
import { selectHDState } from '../../../Features/ControlBar/ControlBarSlice'

export const HDButton = ({action}) => {

    const [state, setState] = React.useState(false);

    const hdState = useSelector(selectHDState);
    
    React.useEffect(() => {

        setState(hdState);

    }, [hdState])

    return (
        <motion.div 
        transition={{duration: 0.1}}
        whileTap={{scale: 1.3}}
        whileHover={{scale: 1.1}}
        onClick={action} style={{opacity: state ? 1 : 0.4}} className='control-button'>
            <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M6.25 9.5C6.58152 9.5 6.89946 9.59658 7.13388 9.76849C7.3683 9.94039 7.5 10.1736 7.5 10.4167V15H11.25V10.4167C11.25 10.1736 11.3817 9.94039 11.6161 9.76849C11.8505 9.59658 12.1685 9.5 12.5 9.5C12.8315 9.5 13.1495 9.59658 13.3839 9.76849C13.6183 9.94039 13.75 10.1736 13.75 10.4167V19.5833C13.75 19.8264 13.6183 20.0596 13.3839 20.2315C13.1495 20.4034 12.8315 20.5 12.5 20.5C12.1685 20.5 11.8505 20.4034 11.6161 20.2315C11.3817 20.0596 11.25 19.8264 11.25 19.5833V16.8333H7.5V19.5833C7.5 19.8264 7.3683 20.0596 7.13388 20.2315C6.89946 20.4034 6.58152 20.5 6.25 20.5C5.91848 20.5 5.60054 20.4034 5.36612 20.2315C5.1317 20.0596 5 19.8264 5 19.5833V10.4167C5 10.1736 5.1317 9.94039 5.36612 9.76849C5.60054 9.59658 5.91848 9.5 6.25 9.5ZM17.5 9.5C17.1685 9.5 16.8505 9.59658 16.6161 9.76849C16.3817 9.94039 16.25 10.1736 16.25 10.4167V19.5833C16.25 19.8264 16.3817 20.0596 16.6161 20.2315C16.8505 20.4034 17.1685 20.5 17.5 20.5H18.5425C20.2551 20.5 21.8976 20.0011 23.1086 19.113C24.3197 18.2249 25 17.0204 25 15.7645V14.2355C25 12.9796 24.3197 11.7751 23.1086 10.887C21.8976 9.99892 20.2551 9.5 18.5425 9.5H17.5ZM22.5 15.7645C22.5 17.3155 20.84 18.5842 18.75 18.6612V11.3388C20.84 11.4177 22.5 12.6863 22.5 14.2373V15.7663V15.7645ZM0 8.58333C0 7.36776 0.65848 6.20197 1.83058 5.34243C3.00269 4.48289 4.5924 4 6.25 4H23.75C25.4076 4 26.9973 4.48289 28.1694 5.34243C29.3415 6.20197 30 7.36776 30 8.58333V21.4167C30 22.6322 29.3415 23.798 28.1694 24.6576C26.9973 25.5171 25.4076 26 23.75 26H6.25C4.5924 26 3.00269 25.5171 1.83058 24.6576C0.65848 23.798 0 22.6322 0 21.4167V8.58333ZM6.25 5.83333C5.25544 5.83333 4.30161 6.12306 3.59835 6.63879C2.89509 7.15451 2.5 7.85399 2.5 8.58333V21.4167C2.5 22.146 2.89509 22.8455 3.59835 23.3612C4.30161 23.8769 5.25544 24.1667 6.25 24.1667H23.75C24.7446 24.1667 25.6984 23.8769 26.4017 23.3612C27.1049 22.8455 27.5 22.146 27.5 21.4167V8.58333C27.5 7.85399 27.1049 7.15451 26.4017 6.63879C25.6984 6.12306 24.7446 5.83333 23.75 5.83333H6.25Z" fill="#F8F8F8"/>
            </svg>
        </motion.div>
    )
}
